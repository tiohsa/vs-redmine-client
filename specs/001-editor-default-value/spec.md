# Feature Specification: エディタ初期値設定

**Feature Branch**: `001-editor-default-value`  
**Created**: 2025-12-28  
**Status**: Draft  
**Input**: User description: "新規登録時に表示するエディタの初期値を設定できるようにする。設定は設定画面で行う。"

## User Scenarios & Testing *(mandatory)*

**Constitution reminder**: Unit tests are mandatory and must be defined before
implementation. Ensure scenarios can be covered by unit tests.

### User Story 1 - 初期値を反映して新規登録を開始 (Priority: P1)

利用者として、設定画面で新規登録エディタの初期値を設定し、次に新規登録を開いたときに初期値が自動で入っていて、そのまま登録作業を始めたい。

**Why this priority**: 入力の手間を最も削減でき、日常的な新規登録作業の効率に直結するため。

**Independent Test**: 初期値を設定して新規登録を開き、設定した値が反映されていることを確認するだけで価値が検証できる。

**Acceptance Scenarios**:

1. **Given** 設定画面で初期値を保存済みの状態で、**When** 新規登録エディタを開く、**Then** 指定した項目に初期値が表示されている
2. **Given** 初期値を設定していない項目がある状態で、**When** 新規登録エディタを開く、**Then** 未設定の項目は空欄のまま表示される

---

### User Story 2 - 初期値の変更とリセット (Priority: P2)

利用者として、業務の変化に合わせて初期値を変更したり、不要になった初期値をリセットして空欄に戻したい。

**Why this priority**: 一度設定した値を固定されると運用に支障が出るため、継続的に使うには変更/解除が必要。

**Independent Test**: 初期値の変更とリセットを行い、新規登録で反映される/空欄になることを確認できる。

**Acceptance Scenarios**:

1. **Given** 既存の初期値がある状態で、**When** 設定画面で値を変更して保存する、**Then** 次回の新規登録で変更後の値が表示される
2. **Given** 既存の初期値がある状態で、**When** 設定画面で初期値をリセットして保存する、**Then** 次回の新規登録で該当項目は空欄になる

---

### User Story 3 - 初期値設定の確認 (Priority: P3)

利用者として、設定画面で現在の初期値が何になっているかを確認してから必要に応じて調整したい。

**Why this priority**: 誤った設定や古い設定に気づきやすくなり、運用ミスを減らせるため。

**Independent Test**: 設定画面に現在の初期値が表示されているかを確認できる。

**Acceptance Scenarios**:

1. **Given** 初期値が設定済みの状態で、**When** 設定画面を開く、**Then** 現在の初期値が各項目に表示される

---

### Edge Cases

- 初期値として入力規則に合わない値を保存しようとした場合はどうなるか？
- 非常に長い値を初期値に設定しようとした場合はどうなるか？

## Clarifications

### Session 2025-12-28

- Q: 初期値の適用単位は？ → A: 利用者ごと（個人設定）
- Q: 初期値の対象範囲は？ → A: 新規登録エディタの全ての入力項目
- Q: 無効な初期値の扱いは？ → A: 保存を拒否し、エラー表示する
- Q: 初期値のリセットはどう扱う？ → A: 空欄を明示的に保存する
- Q: 未設定の項目はどう表示する？ → A: 常に空欄で表示する

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: 利用者は設定画面で新規登録エディタの項目ごとに初期値を設定できること
- **FR-002**: 新規登録エディタを開いたとき、設定済みの初期値が該当項目に自動で表示されること
- **FR-003**: 利用者は設定した初期値を変更できること
- **FR-004**: 利用者は設定した初期値をリセットして未設定（空欄）に戻せること
- **FR-005**: 設定画面で現在の初期値が確認できること
- **FR-006**: 初期値は新規登録エディタで編集可能な項目に限定されること
- **FR-007**: 初期値の入力は各項目の入力規則に従うこと
- **FR-008**: 初期値は利用者ごとに管理され、他の利用者には影響しないこと
- **FR-009**: 初期値の対象は新規登録エディタの全ての入力項目であること
- **FR-010**: 入力規則に合わない初期値は保存できず、利用者にエラーが示されること
- **FR-011**: 初期値のリセットは該当項目を空欄として保存すること
- **FR-012**: 初期値が未設定の項目は常に空欄で表示されること

### Key Entities *(include if feature involves data)*

- **初期値設定**: 新規登録時に自動で入力される項目別の既定値
- **新規登録エディタ項目**: 新規登録時に利用者が入力・編集する各項目

## Assumptions

- 初期値は利用者ごとに管理され、他の利用者には影響しない
- 初期値の対象は新規登録エディタのみで、既存データの編集には適用しない

## Dependencies

- 設定画面から新規登録エディタ関連の設定項目にアクセスできること
- 新規登録エディタが通常どおり起動できること

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 初期値を設定した利用者の90%が、新規登録開始時に初期値が反映されていると回答する
- **SC-002**: 初期値の設定から新規登録開始までの平均作業時間が2分以内で完了する
- **SC-003**: 初期値が反映されない不具合報告が月あたり1件以下になる
- **SC-004**: 初期値の変更・リセットが次回の新規登録に100%反映される
