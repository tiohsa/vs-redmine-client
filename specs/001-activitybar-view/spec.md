# Feature Specification: Activity Bar専用一覧ビュー

**Feature Branch**: `001-activitybar-view`  
**Created**: 2025-12-26  
**Status**: Draft  
**Input**: User description: "この拡張機能のアイコンをActivity Barに追加して現状のエクスプローラーに表示しているプロジェクト、チケット、コメントの一覧をこの拡張機能の専用画面に表示する変更を行う。"

## Clarifications

### Session 2025-12-26

- Q: 専用画面の一覧はいつ更新されるべきか？ → A: 専用画面のフォーカス時に自動更新
- Q: 専用画面の一覧構成はどうするか？ → A: エクスプローラーと同じ階層・並びを踏襲
- Q: 空状態メッセージはどの粒度で出し分けるか？ → A: 一覧別に空状態メッセージを出し分け
- Q: 一覧取得失敗時のエラーメッセージに詳細を含めるか？ → A: 開発者向け詳細をそのまま表示
- Q: 一覧の件数上限はどの程度を想定するか？ → A: 2,000件まで

## User Scenarios & Testing *(mandatory)*

**Constitution reminder**: Unit tests are mandatory and must be defined before
implementation. Ensure scenarios can be covered by unit tests.

### User Story 1 - Activity Barから一覧を確認 (Priority: P1)

ユーザーはActivity Barに追加された拡張機能アイコンを選択し、専用画面でエクスプローラーと同じ階層・並びのプロジェクト・チケット・コメント一覧を確認できる。

**Why this priority**: 既存のエクスプローラーで提供していた情報を、専用の入口で確実に確認できることが最重要の価値だから。

**Independent Test**: Activity Barのアイコンを選択した際に、専用画面に3種の一覧が表示されることを確認することで独立に検証できる。

**Acceptance Scenarios**:

1. **Given** 拡張機能が有効でデータが存在する, **When** ユーザーがActivity Barの拡張機能アイコンを選択する, **Then** 専用画面にプロジェクト・チケット・コメントの一覧が表示される
2. **Given** 拡張機能が有効でデータが存在する, **When** ユーザーがActivity Barの拡張機能アイコンを再選択する, **Then** 同じ専用画面が再表示され一覧が維持される

---

### User Story 2 - 専用画面で一覧の最新状態を確認 (Priority: P2)

ユーザーは専用画面で表示される一覧が現状のエクスプローラーと同等であることを確認できる。

**Why this priority**: 既存の一覧と一致していることが信頼性の基盤となるため。

**Independent Test**: 同一条件下でエクスプローラーの一覧と専用画面の一覧が一致することを比較検証できる。

**Acceptance Scenarios**:

1. **Given** エクスプローラーに表示される一覧が存在する, **When** 専用画面を開く, **Then** 専用画面の一覧は最新の状態に更新されエクスプローラーの一覧と同一である

---

### User Story 3 - データがない場合でも迷わない (Priority: P3)

ユーザーはプロジェクト・チケット・コメントが存在しない場合でも、専用画面で状態が分かる。

**Why this priority**: 空状態での混乱を防ぎ、次の行動を促せるため。

**Independent Test**: データがない状態で専用画面を開き、空状態の説明が表示されることを確認できる。

**Acceptance Scenarios**:

1. **Given** プロジェクト・チケット・コメントが存在しない, **When** 専用画面を開く, **Then** 空状態を示す説明が表示される

---

### Edge Cases

- 一覧の取得に失敗した場合、開発者向け詳細が表示されるか？
- 一覧が非常に多い場合でも、2,000件までなら表示が著しく遅延しないか？

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: システム MUST Activity Barに拡張機能アイコンを追加する
- **FR-002**: システム MUST 専用画面にプロジェクトの一覧を表示する
- **FR-003**: システム MUST 専用画面にチケットの一覧を表示する
- **FR-004**: システム MUST 専用画面にコメントの一覧を表示する
- **FR-005**: システム MUST 専用画面の一覧をエクスプローラーの一覧と同等の内容に保つ
- **FR-006**: システム MUST 一覧が空の場合に空状態の説明を表示する
- **FR-007**: システム MUST 一覧取得失敗時に開発者向け詳細を含むエラーメッセージを表示する
- **FR-008**: システム MUST 専用画面がフォーカスされたタイミングで一覧を自動更新する
- **FR-009**: システム MUST 専用画面の一覧構成をエクスプローラーと同じ階層・並びで表示する
- **FR-010**: システム MUST プロジェクト・チケット・コメントの各一覧ごとに空状態メッセージを出し分ける
- **FR-011**: システム MUST 2,000件までの一覧を著しく遅延なく表示できる

### Key Entities *(include if feature involves data)*

- **プロジェクト**: 一覧表示対象となる作業単位
- **チケット**: プロジェクトに属する作業項目
- **コメント**: チケットに紐づくやり取り

### Assumptions

- 専用画面は既存のエクスプローラーと同じデータ範囲・権限に従う
- エクスプローラー側の一覧取得が利用可能である
- 既存のエクスプローラーの表示内容は変更しない

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: Activity Barのアイコン選択から専用画面の一覧が表示されるまでの時間が2秒以内である
- **SC-002**: 専用画面の一覧とエクスプローラーの一覧の一致率が100%である
- **SC-003**: 空状態またはエラー状態の表示により、ユーザーが状況を理解できたと回答する割合が90%以上である
- **SC-004**: 専用画面への切り替えに関する問い合わせ件数が導入前より30%減少する
